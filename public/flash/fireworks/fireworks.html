<!DOCTYPE html>
<html>
    <head>
        <title data-il8n="game_firelightFestival">Firelight Festival</title>
        <script src="/ruffle/ruffle.js"></script>
        <link rel="stylesheet" href="/styles.css">
    </head>

    <!--<script src="/language.js"></script>-->

    <body class="game"> <!-- onload="loadLanguagePref()" -->
        <script src="/header.js"></script>
        
        <script>
          window.RufflePlayer = {
            config: {
              autoplay: "on",
            }
          };
        </script>

        <div class="swf" dir="ltr" rbidi="on">
        </div>

        <!--<script src="/flags.js"></script>-->

        <div class="footer">
          <a href="/index.html" class="global-lowernav-link" data-il8n="footer_home_linktxt">Home</a> |
          <a href="https://bellasara.wiki.gg/wiki/Firelight_Festival" class="global-lowernav-link" data-il8n="footer_wiki_linktxt">Wiki Page</a> |
        </div>

        <!-- Load correct localized version of the game -->
        <script>
          /*loadLanguagePref(false); 
          const locale = getCurrentLanguageCode();*/
          const locale = "en"; // Todo : modify to use the loca system
          var swfParent = document.getElementsByClassName('swf')[0];
          var swfPlayer = document.createElement('embed');
          swfPlayer.height = '521';
          swfPlayer.width = '887';
          swfPlayer.pluginspage = 'http://www.macromedia.com/go/getflashplayer';
          swfPlayer.src = 'FireworksViewer_modified.swf';
          swfPlayer.type = 'application/x-shockwave-flash';
          // root.loaderInfo.parameters.xmlPath;
          var pathXML = "lang/game_" + locale + ".xml";

          // Default firework
          //const customFireworks = "45567-1-0-4-0-2-1-3-4-0-2-2-0-4-0-2-2-3-4-0-2-3-0-4-0-2-3-3-4-0-2-4-0-4-0-2-4-3-4-0-2-5-0-4-0-2-5-3-4-0-2-6-0-4-0-2-6-3-4-0-2-7-0-4-0-2-7-3-4-0-2-8-0-4-0-2-8-3-4-0-2-10-0-4-0-2-10-3-4-0-2-11-0-4-0-2-11-3-4-0-2-12-0-4-0-2-12-3-4-0-2-0-4-4-0-2-1-4-4-0-2-2-4-4-0-2-3-4-4-0-2-4-4-4-0-2-5-4-4-0-2-6-4-4-0-2-7-4-4-0-2-8-4-4-0-2-9-4-4-0-2-10-4-4-0-2";
          const customFireworks = "45567-1-0-4-0-2-1-3-4-0-2-2-0-4-0-2";

          swfPlayer.setAttribute("flashvars", `xmlPath=${pathXML}&customShow=${customFireworks}`);
          swfParent.appendChild(swfPlayer);
        </script>
  </body>
</html>